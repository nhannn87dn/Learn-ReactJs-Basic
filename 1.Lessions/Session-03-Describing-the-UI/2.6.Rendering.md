# Rendering Elements ?

## â­  1. Render má»™t Element Ä‘áº¿n DOM

QuÃ¡ trÃ¬nh Render diá»…n ra nhÆ° tháº¿ nÃ o trong React ?
- Khi báº¡n khá»Ÿi cháº¡y má»™t App React thÃ¬ React sáº½ tiáº¿n hÃ nh Render cÃ¡c Component.

> Xem file index.js trong project

- React Gá»i hÃ m root.render() Ä‘á»ƒ thá»±c hiá»‡n render vÃ  tráº£ láº¡i káº¿t quáº£ vÃ o ReactDOM

- ReactDOM cÃ³ nhiá»‡m vá»¥ thá»±c hiá»‡n náº¡p káº¿t quáº£ vÃ o tháº» `<div id="root"></div>` cÃ³ id lÃ  root á»Ÿ file public\index.html

- VÃ  cuá»‘i cÃ¹ng LÃ  káº¿t quáº£ Ä‘Æ°á»£c hiá»ƒn thá»‹ ra mÃ n hÃ¬nh.
Báº¡n view code lÃªn thÃ¬ tháº¥y `<div id="root"></div>` trá»‘ng rá»—ng khÃ´ng chá»©a gÃ¬ cáº£ nhÆ°ng láº¡i tháº¥y káº¿t quáº£ hiá»ƒn thá»‹ ra mÃ n hÃ¬nh trÃ¬nh duyá»‡t.

- root.render() chá»‰ cháº¡y 1 láº§n, chÃ­nh vÃ¬ lÃ­ do nÃ y mÃ   khi cÃ³ nhiá»u Elements thÃ¬ cáº§n Ä‘áº·t chÃºng trong má»™t tháº» CHA.



## â­ React Update má»™t Element Ä‘Ã£ Render (Rerender) nhÆ° tháº¿ nÃ o ?

- React Element lÃ  báº¥t biáº¿n khÃ´ng thay Ä‘á»•i, báº¡n khÃ´ng thá»ƒ thay Ä‘á»•i cÃ¡c element con, cÃ¡c thuá»™c tÃ­nh cá»§a nÃ³. Báº¡n cÃ³ thá»ƒ hiá»ƒu Ä‘Æ¡n giáº£n nÃ³ nhÆ° má»™t **snapshot** cá»§a Virtual DOM (cÃ³ thá»ƒ hiá»ƒu lÃ  báº£n ghi tráº¡ng thÃ¡i ngay lÃºc Ä‘Ã³) 
- CÃ¡ch duy nháº¥t React cáº­p nháº­t giao diá»‡n ngÆ°á»i dÃ¹ng (IU) lÃ  táº¡o ra má»™t **snapshot**  má»›i vÃ  Ä‘áº©y chÃºng tá»›i `root.render()` Ä‘á»ƒ render hiá»ƒn thá»‹ ra mÃ n hÃ¬nh.

VÃ­ dá»¥ minh há»a: <https://codepen.io/gaearon/pen/gwoJeZ?editors=1010>


## â­ React chá»‰ update nhá»¯ng gÃ¬ cáº§n thiáº¿t

- Trong React: React chá»‰ cáº­p nháº­t thay Ä‘á»•i cáº§n thiáº¿t hay lÃ  thay Ä‘á»•i á»Ÿ Ä‘Ã¢u thÃ¬ chá»‰ cáº­p nháº­t chá»• Ä‘Ã³ rá»“i Render láº¡i IU

![render](img/render-1.webp)

React láº¥y má»™t snapshot cá»§a Virtual DOM (cÃ³ thá»ƒ hiá»ƒu lÃ  báº£n ghi tráº¡ng thÃ¡i ngay lÃºc Ä‘Ã³) ngay trÆ°á»›c khi Ã¡p dá»¥ng báº¥t ká»³ báº£n cáº­p nháº­t nÃ o. Sau Ä‘Ã³, nÃ³ sá»­ dá»¥ng snapshot nÃ y Ä‘á»ƒ so sÃ¡nh vá»›i má»™t Virtual DOM Ä‘Æ°á»£c cáº­p nháº­t trÆ°á»›c khi thá»±c hiá»‡n cÃ¡c thay Ä‘á»•i.

![render](img/render-2.webp)

Khi cáº­p nháº­t Ä‘Æ°á»£c cáº¥p cho Virtual DOM, quÃ¡ trÃ¬nh tiáº¿p theo React sá»­ dá»¥ng thuáº­t toÃ¡n Diffing Ä‘á»ƒ so sÃ¡nh vÃ  Ä‘á»‘i chiáº¿u Ä‘á»ƒ biáº¿t Ä‘Æ°á»£c sá»± cáº­p nháº­t Ä‘Æ°á»£c diá»…n ra á»Ÿ Ä‘Ã¢u sau Ä‘Ã³ cáº­p nháº­t nÃ³ mÃ  bá» qua nhá»¯ng elements khÃ´ng liÃªn quan.

![render](img/render-3.webp)


Chá»‰ nhá»¯ng Ä‘á»‘i tÆ°á»£ng nÃ y Ä‘Æ°á»£c cáº­p nháº­t trÃªn DOM vÃ  cÃ¡c thay Ä‘á»•i trÃªn DOM vá»«a rá»“i sáº½ lÃ m cho mÃ n hÃ¬nh thay Ä‘á»•i.

![render](img/render-4.webp)




VÃ­ dá»¥ minh há»a thá»±c táº¿.

ChÃºng ta sáº½ Ä‘i tÃ¬m hiá»ƒu sÃ¢u hÆ¡n vá» cÃ¡ch mÃ  má»™t Component Render trong pháº§n sau.


## ğŸ”¶ DOM áº£o (Virtual DOM) lÃ  gÃ¬?

- DOM lÃ  viáº¿t táº¯t cá»§a Document Object Model. DOM Ä‘áº¡i diá»‡n cho má»™t tÃ i liá»‡u HTML cÃ³ cáº¥u trÃºc cÃ¢y logic. Má»—i nhÃ¡nh cá»§a cÃ¢y káº¿t thÃºc báº±ng má»™t nÃºt vÃ  má»—i nÃºt chá»©a cÃ¡c Ä‘á»‘i tÆ°á»£ng.

![html dom](img/html_dom.gif)

- React giá»¯ má»™t báº£n â€œÄ‘áº¡i diá»‡nâ€ nhÆ°ng nháº¹ hÆ¡n cá»§a DOM â€œthá»±câ€ trong bá»™ nhá»›, gá»i lÃ  DOM áº£o (Virtual DOM). Khi tráº¡ng thÃ¡i cá»§a má»™t Ä‘á»‘i tÆ°á»£ng (object) thay Ä‘á»•i, DOM áº£o chá»‰ thay Ä‘á»•i Ä‘á»‘i tÆ°á»£ng Ä‘Ã³ trong DOM thá»±c, thay vÃ¬ cáº­p nháº­t táº¥t cáº£ cÃ¡c Ä‘á»‘i tÆ°á»£ng.

![html dom](img/dom-reactjs.jpg)


Báº¡n cÃ³ thá»ƒ tÆ°á»Ÿng tÆ°á»£ng, á»Ÿ DOM cÃ³ tháº» div vÃ  cÃ¡c tháº» p á»Ÿ trong, React sá»­ dá»¥ng Virtual DOM báº±ng cÃ¡ch táº¡o ra cÃ¡c object React.div vÃ  React.p vÃ  khi tÆ°Æ¡ng tÃ¡c, ta sáº½ tÆ°Æ¡ng tÃ¡c qua cÃ¡c object Ä‘Ã³ má»™t cÃ¡ch nhanh chÃ³ng mÃ  khÃ´ng pháº£i Ä‘á»¥ng tá»›i DOM hay DOM API cá»§a nÃ³.

Virtual DOM Ä‘Æ°á»£c táº¡o má»›i sau má»—i láº§n render láº¡i.

## â­  Client Side Rendering ?

Client Side Rendering (CSR) lÃ  má»™t phÆ°Æ¡ng phÃ¡p render trang web má»›i hÆ¡n, Ä‘á»‘i vá»›i phÆ°Æ¡ng phÃ¡p nÃ y JS Ä‘Æ°á»£c thá»±c thi á»Ÿ phÃ­a trÃ¬nh duyá»‡t thÃ´ng qua cÃ¡c Javascript framework

## â­  Server Side Rendering ?

Server Side Rendering (SSR) lÃ  phÆ°Æ¡ng phÃ¡p render (káº¿t xuáº¥t) truyá»n thá»‘ng.

Vá» cÆ¡ báº£n, táº¥t cáº£ cÃ¡c tÃ i nguyÃªn trÃªn trang cá»§a báº¡n Ä‘á»u Ä‘Æ°á»£c lÆ°u trá»¯ trÃªn mÃ¡y chá»§ (server). Khi trang Ä‘Æ°á»£c yÃªu cáº§u truy cáº­p, mÃ¡y chá»§ sáº½ tráº£ vá» trang HTML Ä‘á»ƒ hiá»ƒn thá»‹ trÃªn trÃ¬nh duyá»‡t, JS vÃ  CSS cÅ©ng Ä‘Æ°á»£c táº£i xuá»‘ng vÃ  ná»™i dung trang cuá»‘i cÃ¹ng sáº½ hiá»ƒn thá»‹ tá»›i ngÆ°á»i dÃ¹ng

# â­ Components and Props

## ğŸ”¥ Component trong React lÃ  gÃ¬ ? 

- Trong React, "component" (thÃ nh pháº§n) lÃ  má»™t pháº§n cá»§a giao diá»‡n ngÆ°á»i dÃ¹ng Ä‘Æ°á»£c chia thÃ nh cÃ¡c pháº§n nhá», cÃ³ thá»ƒ tÃ¡i sá»­ dá»¥ng vÃ  Ä‘á»™c láº­p. ChÃºng giÃºp báº¡n chia nhá» cÃ¡c pháº§n phá»©c táº¡p cá»§a á»©ng dá»¥ng thÃ nh cÃ¡c pháº§n nhá» hÆ¡n, dá»… quáº£n lÃ½ vÃ  tÃ¡i sá»­ dá»¥ng.

-React Ä‘Æ°á»£c xÃ¢y dá»±ng trÃªn cÆ¡ sá»Ÿ cá»§a cÃ¡c thÃ nh pháº§n. Má»—i thÃ nh pháº§n lÃ  má»™t Ä‘oáº¡n mÃ£ JavaScript Ä‘á»™c láº­p cÃ³ thá»ƒ nháº­n dá»¯ liá»‡u Ä‘áº§u vÃ o vÃ  tráº£ vá» má»™t pháº§n giao diá»‡n ngÆ°á»i dÃ¹ng (UI) cá»¥ thá»ƒ. Khi dá»¯ liá»‡u Ä‘áº§u vÃ o thay Ä‘á»•i, giao diá»‡n ngÆ°á»i dÃ¹ng sáº½ Ä‘Æ°á»£c cáº­p nháº­t má»™t cÃ¡ch tá»± Ä‘á»™ng mÃ  khÃ´ng cáº§n pháº£i thá»±c hiá»‡n láº¡i trang web.

- ChÃºng ta cÃ³ thá»ƒ xÃ¢y dá»±ng giao diá»‡n ngÆ°á»i dÃ¹ng báº±ng cÃ¡ch káº¿t há»£p cÃ¡c Component láº¡i vá»›i nhau
- CÃ³ 2 loáº¡i component lÃ  Function Component vÃ  Class Component.

Doc:  

- <https://react.dev/learn/your-first-component>
- <https://www.w3schools.com/REACT/react_components.asp>


**Thinking in React:** <https://react.dev/learn/thinking-in-react>

> Component trong React  chÃºng ta hÆ°á»›ng tá»›i Ä‘Ã³ lÃ  má»™t thÃ nh pháº©n nhá», má»™t block UI

>Báº¥t ká»³ má»™t thÃ nh pháº©n UI nÃ o hiá»ƒn thá»‹ ra mÃ n hÃ¬nh Ä‘á»u cÃ³ thá»ƒ lÃ  má»™t Component

![is component](img/thing-component.png)

![is component](img/thing-component-2.png)

VÃ­ dá»¥ thá»±c táº¿ Components: 5.Demo-Projects\product.html

***

### ğŸ”· CÃ¡ch Ä‘á»‹nh nghÄ©a 1 component

Trong Demo trÃªn chÃºng ta cÃ³ cÃ¡c button ThÃªm giá» hÃ ng, Gá»i tÆ° váº¥n

Thá»­ táº¡o 2 button Ä‘Ã³ trong React

Trong file App.js báº¡n thÃªm Ä‘oáº¡n code sau


```js
//Äá»‹nh nghÄ©a má»™t component
function ButtonAddToCart() {
  return (
      <button type='button'>ThÃªm giá» hÃ ng</button>
  )
}
```

Hoáº·c cÃ¡c báº¡n tháº¥y trÃªn thanh Navigations cÃ³ cÃ¡c liÃªn káº¿t báº±ng tháº» `a`

ThÃ¬ trong React nÃ³ cÃ³ thá»ƒ Ä‘Æ°á»£c viáº¿t thÃ nh má»™t Component

```js
function LinkHome(){
  return (
    <a href="home">Home</a>
  )
}
```

Hoáº·c má»™t vÃ­ dá»¥ khÃ¡c: HÃ¬nh Ä‘áº¡i diá»‡n bÃ i viáº¿t cÃ³ thá»ƒ Ä‘Æ°á»£c viáº¿t thÃ nh má»™t component

```js
function ArticleThumbnail(){
  return (
    <div>
      <img src="" alt="thumbnail" />
    </div>
  )
  
}
```

Káº¿t luáº­n: Vá»›i cÃ¡ch Ä‘á»‹nh nghÄ©a trÃªn thÃ¬ cÃ¡c báº¡n Ä‘Ã£ táº¡o ra Ä‘Æ°á»£c má»™t function component trong React

***

### ğŸ”· CÃ¡ch Ä‘áº·t tÃªn má»™t Component

Báº¯t buá»™c kÃ½ tá»± Ä‘áº§u tiÃªn pháº£i viáº¿t HOA theo kiá»ƒu Pascal Case (cÃ²n Ä‘Æ°á»£c gá»i lÃ  Upper Camel Case)

VÃ­ dá»¥: Profile, BlogDetails

***

### ğŸ”· Sá»­ dá»¥ng má»™t Component

```js
//App.js

// Sá»­ dá»¥ng component Button
function App() {
  return (
    <section>
      <h1>Hello Components</h1>
      <Button />
    </section>
  );
}
export default  App;
```

***

### ğŸ”· CÃ¡c Components lá»“ng vÃ o nhau

Táº¡o thÃªm má»™t Component ActionsButton

```js
function ActionsButton(){
  return (
    <div>
      <Button />
      <Button />
    </div>
  )
}
```

App.js sá»­a láº¡i nhÆ° sau:

```js

function App() {
  return (
    <section>
      <h1>Hello Components</h1>
      <ActionsButton />
    </section>
  );
}
export default  App;
```



### ğŸ”· Import vÃ  Export Components

React ná»•i báº­t vá»›i viá»‡c tÃ¡i sá»­ dá»¥ng, do váº­y báº¡n nÃªn chia nhá» thÃ nh nhiá»u cÃ¡c component.

Äá»ƒ lÃ m Ä‘Æ°á»£c váº­y báº¡n cáº§n táº¡o ra má»™t file .js hoáº·c .jsx, .ts vÃ  Ä‘áº·t code cá»§a component vÃ o trong Ä‘Ã³.

Theo convension báº¡n nÃªn táº¡o ra má»™t folder tÃªn lÃ  components bÃªn trong src.

VÃ­ dá»¥: Táº¡o má»™t má»™t file src/components/ButtonAddToCart.js (tÃªn file báº±ng tÃªn Component)

```js
function ButtonAddToCart() {
  return (
      <button type='button'>ThÃªm giá» hÃ ng</button>
  )
}
//ES6 syntax 
export default ButtonAddToCart;
```

BÃ¢y giá» táº¡i component muá»‘n sá»­ dá»¥ng láº¡i Car.js thÃ¬ import vÃ o

```js
import React from 'react';
//ES6 import
import ButtonAddToCart from './ButtonAddToCart.js';


function App() {
  return (
    <>
      <h1>Hello React Components</h1>
      <ButtonAddToCart />
    </>
  );
}

```

***

## ğŸ”¥ Khi nÃ o thÃ¬ cáº§n táº¡o má»™t Component ?

- Má»™t tÃ­nh nÄƒng, thÃ nh pháº§n láº·p Ä‘i láº·p láº¡i vÃ  nháº­n tháº¥y cÃ³ thá»ƒ tÃ¡i sá»­ dá»¥ng

VÃ­ dá»¥:

>CÃ¹ng kiá»ƒu dÃ¡ng Chá»‰ khÃ¡c nhau mÃ u ná»n, mÃ u chá»¯, icon

!['button'](img/button-shop.png)

=> Ta chá»‰ cáº§n táº¡o ra 1 component vÃ  tÃ¡i sá»­ dá»¥ng cho all cÃ¡c trÆ°á»ng há»£p



- Má»™t thÃ nh pháº§n cÃ³ thá»ƒ cháº¡y Ä‘á»™c láº­p, mÃ  báº¡n chá»‰ muá»‘n nÃ³ re-Render láº¡i khi cáº§n thiáº¿t.

- Má»™t thÃ nh pháº§n thÆ°á»ng xuyÃªn thay Ä‘á»•i ná»™i dung.


## ğŸ”¥ Props lÃ  gÃ¬ ? 

- Props lÃ  cÃ¡c tham sá»‘ Ä‘Æ°á»£c truyá»n vÃ o má»™t React components.
- Props cÃ³ thá»ƒ sá»­ dá»¥ng nhÆ° lÃ  má»™t HTML attribute

### ğŸŒ» Táº¡i sao láº¡i cáº§n Ä‘áº¿n Props?

Äá»ƒ tráº£ lá»i cÃ¢u há»i nÃ y chÃºng ta cÃ¹ng táº¡o ra 2 button trÃªn nhÆ° sau:

```js
function ButtonAddToCart() {
  return (
      <button type='button'>ThÃªm giá» hÃ ng</button>
  )
}
function ButtonCall() {
  return (
      <button type='button'>Gá»i tÆ° váº¥n</button>
  )
}
```

Vá»›i kiáº¿n thá»©c Ä‘Ã£ há»c trÃªn thÃ¬ báº¡n táº¡o ra 2 button trÃªn vá»›i cÃ¡ch code nhÆ° váº­y.

Tuy nhiÃªn nÃ³ máº¥t Ä‘i cÃ¡i Ä‘áº·t tÃ­nh ná»•i báº­t cá»§a component lÃ  TÃI Sá»¬ Dá»¤NG.

Báº¡n nháº­n tháº¥y ráº±ng 2 button trÃªn hoÃ n toÃ n giá»‘ng nhau, nÃ³ chá»‰ khÃ¡c pháº§n `label` tÃªn hiá»ƒn thá»‹.

ThÃ¬ chÃ­nh lÃºc nÃ y ta cáº§n Ä‘áº¿n má»™t biáº¿n mÃ  trong React gá»i lÃ  `props`

ChÃºng ta chá»‰ cáº§n táº¡o ra 1 component

```js
//Button nháº­n vÃ o má»™t tham sá»‘ cÃ³ tÃªn máº·c Ä‘á»‹nh trong React lÃ  props ==> nÃ³ lÃ  má»™t object
function Button(props) {
  return (
    <button type='button'>{props.label}</button>
  )
}
```

Khi Ä‘Ã³ Ä‘á»ƒ táº¡o ra 2 button nhÆ° demo thÃ¬ trong App.js

```js
function App() {
  return (
    <>
      <h1>Hello React Components</h1>
      <Button label='ThÃªm giá» hÃ ng' />
      <Button label='Gá»i TÆ° Váº¥n' />
    </>
  )
}
```

TrÃªn Ä‘Ã¢y ta sá»­ dá»¥ng thuá»™c tÃ­nh label='' thÃ¬ React nÃ³ tá»± Ä‘á»™ng thÃªm vÃ o `props` má»™t pháº§n tá»­ cÃ³ key lÃ  `label` vÃ  value lÃ  giÃ¡ trá»‹ trong dáº¥u `=`

Khi Ä‘Ã³ trong component Button chÃºng ta truy cáº­p tá»›i giÃ¡ pháº§n tá»« `label` Ä‘á»ƒ láº¥y giÃ¡ trá»‹ cá»§a nÃ³ `props.label` nhÆ° object bÃ¬nh thÆ°á»ng.

***

### ğŸŒ» Truyá»n Props cho má»™t Component

React components sá»­ dá»¥ng cÃ¡c props Ä‘á»ƒ giao tiáº¿p vá»›i nhau. Component CHA cáº§n truyá»n thÃ´ng tin Ä‘áº¿n component CON báº±ng cÃ¡ch sá»­ dá»¥ng props. 

Props sá»­ dá»¥ng nhÆ° HTML attributes, nhÆ°ng báº¡n cÃ³ thá»ƒ truyá»n báº¥t ká»³ giÃ¡ trá»‹ JavaScript thÃ´ng qua chÃºng, bao gá»“m cáº£ objects, arrays, vÃ  functions


Láº¥y láº¡i vÃ­ dá»¥ trÃªn cÃ¡c báº¡n cÃ³ thá»ƒ thÃªm cho nÃ³ nhiá»u thuá»™c tÃ­nh khÃ¡c:

```js

function Button(props) {
  return (
    <button type='button'>{props.label}</button>
  )
}

function App() {
  
  function handeClick(){
    console.log('you clicked');
  }

  return (
    <>
      <h1>Hello React Components</h1>
      
      <Button onClick={handeClick} fontSize={18} bgColor='#ff6700' label='ThÃªm giá» hÃ ng' customStyle={{fontWeight: 'bold', textTransform: 'uppercase'}} />

      <Button label='Gá»i TÆ° Váº¥n' />
    </>
  )
}

```
ChÃºng ta nháº­n tháº¥y Component Button nháº­n vÃ o tham sá»‘ `props`.

BÃªn trong thÃ¢n nÃ³ chÃºng ta khÃ´ng hÃ¬nh dung Ä‘Æ°á»£c lÃ  nÃ³ Ä‘ang cÃ³ nhá»¯ng thuá»™c tÃ­nh nÃ o Ä‘á»ƒ mÃ  sá»­ dá»¥ng.

LÃ m sao biáº¿t cÃ³ label Ä‘á»ƒ `props.label` ?

Khi Ä‘Ã³ chÃºng ta cÃ³ má»™t cÃ¡ch biáº¿t khÃ¡c TÆ¯á»œNG MINH hÆ¡n nhÆ° sau

```js
//CÃº phÃ¡p Destructuring má»™t Object
//props = {label, fontSize, bgColor, customStyle}
//{label, fontSize, bgColor, customStyle} = props
function Button({label, fontSize, bgColor, customStyle}) {
  return (
    <button type='button'>{props.label}</button>
  )
}
```
***

### ğŸŒ» Default Props

Trong React, chÃºng ta cÅ©ng cÃ³ thá»ƒ sá»­ dá»¥ng function Ä‘á»ƒ táº¡o component. CÅ©ng nhÆ° ES6 React Component, chÃºng ta cÅ©ng cÃ³ thá»ƒ Ä‘á»‹nh nghÄ©a thuá»™c tÃ­nh defaultProps

```js
function Button(props) {
  return (
    <button type='button'>{props.label}</button>
  )
}
// Kiá»ƒu nhÆ° lÃ  Ä‘áº·t giÃ¡ trá»‹ dá»± phÃ²ng, náº¿u ko truyá»n thÃ¬ nÃ³ láº¥y giÃ¡ trá»‹ máº·c Ä‘á»‹nh hiá»ƒn thá»‹.
Button.defaultProps = {
    label: "Button Label",
    color: "#fff",
    bgColor: "#ff6700" 
}

```

***

### ğŸŒ» Props Children

Báº¡n cÃ³ thá»ƒ lá»“ng cÃ¡c component vÃ o vá»›i nhau giá»‘ng nhÆ° cÃ¡c tháº» HTML váº­y, Ä‘iá»u Ä‘Ã³ lÃ m cho JSX trÃ´ng giá»‘ng vá»›i HTML. VÃ  cÃ¡c component hay ná»™i dung Ä‘Æ°á»£c lá»“ng á»Ÿ trong cÃ¡c component Ä‘Æ°á»£c gá»i lÃ  children

**Child component**

```js
<Dad>
    <Son />
    <Son />
    <Son />
</Dad>
```

á» Ä‘Ã¢y ta cÃ³ 3 component `<Son />`, chÃºng sáº½ lÃ  props.children cá»§a component `<Dad />`

Khi Ä‘Ã³ `<Dad />` sáº½ trong nhÆ° tháº¿ nÃ y

```js
function Dad(props){
  return (
    <div>
      {props.children}
    <div>
  )
}
//hoáº·c
function Dad({children}){
  return (
    <div>
      {children}
    <div>
  )
}
```

**Everything can be a child**

Children trong React thÃ¬ khÃ´ng nháº¥t thiáº¿t pháº£i lÃ  cÃ¡i gÃ¬, nÃ³ cÃ³ thá»ƒ lÃ  1 component hay nhiá»u component, 1 tháº» h1 hoáº·c nhiá»u tháº» h1, 1 chá»¯ hoáº·c nhiá»u chá»¯...

```js
<Dad>
    <h1>Hello Children</h1>
</Dad>
```

Báº¡n chá»‰ cáº§n nhá»› má»™t Ä‘iá»u:

Children lÃ  pháº§n ná»™i dung lÃ²ng vÃ o giá»¯a má»™t component.


***

### ğŸŒ» Truyá»n má»™t prop tá»« App xuá»‘ng component CON lá»“ng vÃ o nhau ráº¥t SÃ‚U

Báº£i giáº£ng: [á» Ä‘Ã¢y](1.RoadMap-40h\Session-07-Hooks\useContext.md)

VÃ­ dá»¥ cÃ³ má»™t object

```js
const userInfo = {
  id: 1, 
  name: 'John',
  avatarUrl: 'http://'
}
```

VÃ  cÃ³ má»™t component lá»“ng vÃ o nhau ráº¥t SÃ‚U

```js
function UserInfo() {
  return (
    <>
      <span>
      Username: ???
    </span>
    </>
  )
}

function HeaderPage() {
  return (
    <>
    <UserInfo />
    </>
  )
}

function HomePage() {
  return (
    <>
    <HeaderPage />
    </>
  )
}

function App() {
  return (
    <>
    <HomePage />
    </>
  )
}

```

LÃ m sao Ä‘á»ƒ truyá»n userInfo tá»« App xuá»‘ng component UserInfo Ä‘á»ƒ hiá»ƒn thá»‹ name ra chá»— ???

- CÃ¡ch bÃ¬nh thÆ°á»ng: truyá»n props láº§n lÆ°á»£t vÃ o cÃ¡c component tá»« APP xuá»‘ng UserInfo
- CÃ¡ch khÃ¡c: dÃ¹ng useContext

CÃ¡ch thá»±c hiá»‡n vá»›i useContext:

* **BÆ°á»›c 1**: Táº¡o folder src/context
* **BÆ°á»›c 2**: Trong thÆ° má»¥c src/context táº¡o file `userContext.tsx`

```js
import React from "react";

interface UserType {
  id: number;
  name:string;
  avatarUrl:string;
}
//BÆ°á»›c 1: Táº¡o context
//createContext nháº­n vÃ o giÃ¡ trá»‹ khá»Ÿi táº¡o, máº·c Ä‘inh lÃ  null
export const userContext = React.createContext<UserType | null>(null);

// BÆ°á»›c 2: Táº¡o Provider context
//userContext.Provider sá»­ dá»¥ng props value máº·c Ä‘á»‹nh: chá»©a thÃ´ng tin cáº§n truyá»n xuá»‘ng children
export const UserProvider = ({user, children}: {user: UserType, children?: React.ReactNode}) => {
  return <userContext.Provider value={user}>
      {children}
    </userContext.Provider>;
};


```

* **BÆ°á»›c 3**: Sá»­a code App láº¡i nhÆ° sau

```js
//Import Provider vÃ o App
import { UserProvider } from "./context/userContex";

function App() {
  console.log("App rendered");
  return (
    <div>
      <UserProvider user={userInfo}>
        <HomePage />
       </UserProvider>
    </div>
  );
}

export default App;
```


* **BÆ°á»›c 4**: Äá»ƒ component UserInfo láº¥y Ä‘Æ°á»£c thÃ´ng tin user

```js
import React from 'react';
import {userContext} from '../../../../context/userContext';

function UserInfo() {
  const userInfo = React.useContext(userContext);
  return (
    <>
      <span>
      Username: {userInfo.name}
    </span>
    </>
  )
}
```



### ğŸŒ» Props vá»›i TypeScript

Chuyá»ƒn cÃ¡c vÃ­ dá»¥ trÃªn thÃ nh TypeScript


Tham kháº£o sá»­ dá»¥ng Prop vá»›i TypeScript

- <https://github.com/typescript-cheatsheets/react#basic-prop-types-examples>

- <https://cinthialandia.com/blog/props/>


## ğŸ”¥ Tá»« HTML Ä‘áº¿n React Component

CÃ¡ch nhÃ¬n nháº­n tá»« má»™t HTML UI lÃ m sao chuyá»ƒn nÃ³ thÃ nh React UI há»£p lÃ½.

Xem vÃ­ dá»¥: <https://widget-components.vercel.app>
